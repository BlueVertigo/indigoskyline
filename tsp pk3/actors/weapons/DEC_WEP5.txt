//===========================================================================
//
// The Toolbox
//
// by Scroton and Marty Kirra
// Sprites by Marty Kirra
//
//===========================================================================
ACTOR Toolbox : Weapon
{
	Weapon.AmmoType	"ToolboxMag"
	Weapon.AmmoGive	0
	Weapon.AmmoUse	1
	Weapon.AmmoType2 "ToolboxAmmo"
	Weapon.AmmoGive2 0
	Weapon.AmmoUse2	0
	Weapon.BobStyle Alpha
	Weapon.BobSpeed 1.2
	Weapon.BobRangeY 0.5
	Weapon.BobRangeX 0.6
	Inventory.PickupMessage "[Marston Arms RPG-2090 (The Toolbox)] [Class: Projectile Weapon, Slot 5]"
	Obituary "%k was brought closer to god thanks to %o's Toolbox."
	+Weapon.AMMO_OPTIONAL
	+WEAPON.NoAlert
   States
   {
   Spawn:
      RNLP A -1
	  Stop
   Ready:
      RNLG A 1 A_WeaponReady(WRF_ALLOWRELOAD)
      LOOP
   Deselect:
      RNLG A 0 A_PlaySound("toolbox/off", 6)
	  RNLU GFE 1
	  RNLU E 0 A_PlaySound("toolbox/deequip", 5)
	  RNLD ABCD 1
   DeselectLoop:
	  TNT1 A 4 A_Lower
      Loop
   Select:
      TNT1 A 5 A_PlaySound("toolbox/equip", 5)
	  RNLU ABCD 1
	  RNLU D 0 A_PlaySound("toolbox/on", 6)
	  RNLU DEFG 1
   SelectLoop:
      RNLG A 1 A_Raise
	  Loop
   Fire:
      TNT1 A 0 A_JumpIfNoAmmo("Empty")
	  TNT1 A 0 A_JumpIfInventory("ToolBoxFired", 5, "Empty")
      RNLF A 0 A_JumpIfInventory("ToolboxHeld", 4, "FireHold4") // WHAT IS THIS?!
      RNLF A 0 A_JumpIfInventory("ToolboxHeld", 3, "FireHold3") // this is some dumb shenanigans to get
      RNLF A 0 A_JumpIfInventory("ToolboxHeld", 2, "FireHold2") // the sound to not cut off when firing
      RNLF A 0 A_JumpIfInventory("ToolboxHeld", 1, "FireHold") // just hopping through channels. :P
      RNLF A 0 A_PlaySound("toolbox/prime", 5)
      RNLF ABCDE 1
	  TNT1 A 0 A_SetPitch(pitch - 1.4)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.2,0.2)))
	  RNLF F 0 A_SpawnItemEx ("ToolboxRocket",0,1,38,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/rocket", 6)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
	  RNLF E 0 A_GiveInventory("ToolboxHeld", 1)
	  RNLF E 5 A_WeaponReady
	  Goto FireEnd
   FireHold:
      RNLF E 7
	  TNT1 A 0 A_SetPitch(pitch - 1.4)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.2,0.2)))
	  RNLF F 0 A_SpawnItemEx ("ToolboxRocket",0,1,38,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/rocket", 5)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
	  RNLF E 0 A_GiveInventory("ToolboxHeld", 1)
      RNLF E 1 A_WeaponReady
	  Goto FireEnd
   FireHold2:
      RNLF E 7
	  TNT1 A 0 A_SetPitch(pitch - 1.4)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.2,0.2)))
	  RNLF F 0 A_SpawnItemEx ("ToolboxRocket",0,1,38,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/rocket", 6)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
	  RNLF E 0 A_GiveInventory("ToolboxHeld", 1)
      RNLF E 1 A_WeaponReady
	  Goto FireEnd
   FireHold3:
      RNLF E 7
	  TNT1 A 0 A_SetPitch(pitch - 1.4)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.2,0.2)))
	  RNLF F 0 A_SpawnItemEx ("ToolboxRocket",0,1,38,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/rocket", 5)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
	  RNLF E 0 A_GiveInventory("ToolboxHeld", 1)
      RNLF E 1 A_WeaponReady
	  Goto FireEnd
   FireHold4:
      RNLF E 7
	  TNT1 A 0 A_SetPitch(pitch - 1.4)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.2,0.2)))
	  RNLF F 0 A_SpawnItemEx ("ToolboxRocket",0,1,38,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/rocket", 6)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
	  RNLF E 0 A_TakeInventory("ToolboxHeld", 4)
      RNLF E 1 A_WeaponReady
	  Goto FireEnd
   FireEnd:
      RNLF A 0 A_TakeInventory("ToolboxHeld", 99)
      RNLF EDCBA 1
	  RNLG A 3
	  Goto Ready
   AltFire:
	  TNT1 A 0 A_JumpIfInventory("ToolBoxFired", 5, "Empty")
	  TNT1 A 0 A_PlaySound("toolbox/grind", 6)
	  RNLE ABCDABCDA 2
	  RNLF A 0 A_PlaySound("toolbox/prime", 0)
      RNLF ABCDE 1
	  TNT1 A 0 A_SetPitch(pitch - 2.0)
	  TNT1 A 0 A_SetAngle(angle + (frandom(-0.5,0.5)))
	  RNLF FFFFFFFFFFFF 0 A_SpawnItemEx ("DummyShrapnel",0,2,44,cos(-pitch),0,sin(-pitch),(random(-400,400)/100),SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION)
	  RNLF F 0 A_TakeInventory("ToolBoxMag", 1)
	  RNLF F 2 BRIGHT A_PlaySound("toolbox/nailgun", 6)
	  TNT1 A 0 A_AlertMonsters
	  RNLF G 2 BRIGHT
	  RNLF HIJKLE 1
	  RNLF E 0 A_GiveInventory("ToolboxFired", 1)
      RNLF EDCBA 1
	  RNLG A 5
	  Goto Ready
    Reload:
	  RNLG A 0 A_JumpIfInventory("ToolBoxMag", 5, "2")
	  RNLG A 0 A_JumpIfInventory("ToolBoxAmmo", 1, "2")
	  RNLG A 1 A_WeaponReady(WRF_NOFIRE)
	  Goto Ready
	ReloadStart:
	  RNLG A 0 A_PlaySound("toolbox/off", 6)
	  RNLU GFE 1
	  RNLR C 0 A_PlaySound("toolbox/reload1", 5)
	  RNLR ABC 1
	  RNLR DEEFFGHI 1
	  RNLR J 0 A_PlaySound("toolbox/reload2", 6)
	  RNLR JJJJJJJJJJJJJJJJJJJJJJJJ 1
	ReloadWork:
	  MPTR I 0 A_TakeInventory("ToolBoxAmmo",1)
	  MPTR I 0 A_GiveInventory("ToolBoxMag",1)
	  MPTR I 0 A_JumpIfInventory("ToolBoxMag",5,"ReloadFinish")
	  MPTR I 0 A_JumpifInventory("ToolBoxAmmo",1,"ReloadWork")
	ReloadFinish:
	  RNLR K 0 A_TakeInventory("ToolboxFired", 99)
	  RNLR KLMMMMMMMMM 1
	  RNLR NOA 1
	  RNLU D 0 A_PlaySound("toolbox/on", 5)
	  RNLU EFG 1
	  RNLG A 2
	  Goto Ready
    Empty:
	  RNLU A 0 A_PlaySound("toolbox/empty")
	  RNLU E 1
	  RNLE A 2
	  RNLU E 2
	  RNLE A 2
	  RNLU EFG 1
	  RNLG A 1
	  Goto Reload
	}
}

ACTOR ToolboxHeld : Inventory
{
	Inventory.MaxAmount 5
}

ACTOR ToolboxFired : Inventory
{
	Inventory.MaxAmount 5
}

ACTOR ToolboxMag : Ammo
{
	+IGNORESKILL
	Inventory.MaxAmount 5
}

ACTOR ToolboxAmmo : Ammo Replaces RocketAmmo
{
	+IGNORESKILL
	Inventory.Amount 1
	Inventory.MaxAmount 30
	Ammo.BackpackAmount 5
	Ammo.BackpackMaxAmount 60
	Ammo.DropAmount 1
	Scale 0.4
	Inventory.Icon "SRTPA0"
	Inventory.PickupMessage "Picked up a Toolbox Rocket. [+1 Toolbox Ammo]"
	Inventory.PickupSound "toolbox/ammo1"
	States
	{
	Spawn:
		SRTP A -1
		Stop
	}
}

ACTOR ToolboxRocketBox : ToolboxAmmo replaces RocketBox
{
  Inventory.PickupMessage "Picked up a crate of Toolbox Rockets. [+5 Toolbox Ammo]"
  Inventory.PickupSound "toolbox/ammo1"
  Inventory.Amount 5
  States
  {
  Spawn:
    BROK A -1
    Stop
  }
}

ACTOR ToolboxPickup : CustomInventory Replaces RocketLauncher
{
    Inventory.PickupMessage "[Marston Arms RPG-2090 (The Toolbox)] [Class: Projectile Weapon, Slot 5]"
	+INVENTORY.AUTOACTIVATE
	States
	{
	Spawn:
      RNLP A -1
	  Stop
	Pickup:
	  TNT1 A 0 A_JumpIfInventory("Toolbox", 1, "AmmoCheck")
	  TNT1 A 0 A_GiveInventory("Toolbox", 1)
	  TNT1 A 0 A_GiveInventory("ToolboxAmmo", 10)
	  TNT1 A 1 ACS_ExecuteAlways(862)
	  Stop
	AmmoCheck:
      TNT1 A 0 A_JumpIfInventory("ToolboxAmmo", 0, "PickupFail")
	  TNT1 A 0 A_GiveInventory("ToolBoxAmmo", 10)
	  Stop
	PickupFail:
      RNLP A 1
      Fail
	}
}

ACTOR ToolboxRocket
{
  Radius 5
  Height 4
  Speed 20
  Damage 20
  Scale 0.4
  Projectile
  //+RANDOMIZE
  //+DEHEXPLOSION
  +ROCKETTRAIL
  //SeeSound "toolbox/rocketfly"
  //DeathSound "toolbox/rocketimpact"
  Obituary "%o took %k's rocket to the moon."
  Decal "DoomImpScorch"
  States
  {
  Spawn:
    SRKT A 0
	SRKT A 0
	SRKT A 0
	SRKT A 1
    Goto Spawn2
  Spawn2:
    TNT1 A 0 A_PlaySound("toolbox/rocketfly", 5)
    SRKT A 3 Bright
    Loop
  Death:
	TNT1 A 0 A_SpawnItemEx("ToolboxRocketExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 1 A_Explode
	TNT1 A 0 A_PlaySound("toolbox/rocketimpact", 5)
    Stop
  }
}

//sprites from Aeons of Death/Metroid Dreadnaught, code nicked from TerminusEst13. Whoops!
ACTOR ToolboxRocketExplosion
{
  Radius 1
  Height 1
  +NOINTERACTION
  RenderStyle Add
  Alpha 0.9
  Scale 0.55
  States
  {
    Spawn:
	    TNT1 A 0
        TNT1 A 0 A_Jump(256,"Spawn1","Spawn2","Spawn3","Spawn4","Spawn5","Spawn6","Spawn7")
        TNT1 A 1
        stop
    Spawn1:
        MXP1 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn2:
        MXP2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn3:
        MXP3 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn4:
        MXP4 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn5:
        MXP5 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn6:
        MXP6 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
    Spawn7:
        MXP7 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
        stop
  }
}

actor DummyShrapnel
{
  +NOINTERACTION
  Radius 1
  Height 1
  States
  {
  Spawn:
	PUFF A 0
	PUFF A 0
	PUFF A 0 A_SetPitch(pitch+(random(-400,400)/100)) 
	Goto Spawn2
  Spawn2:
	PUFF A 0
	PUFF A 0
	PUFF A 0 A_Jump(256, "Shoot50", "Shoot51", "Shoot52", "Shoot53", "Shoot54", "Shoot55", "Shoot56", "Shoot57", "Shoot58", "Shoot59", "Shoot60")
	Loop
  Shoot30:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*30,0,sin(-pitch)*30,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot31:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*31,0,sin(-pitch)*31,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot32:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*32,0,sin(-pitch)*32,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot33:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*33,0,sin(-pitch)*33,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot34:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*34,0,sin(-pitch)*34,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot35:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*35,0,sin(-pitch)*35,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot36:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*36,0,sin(-pitch)*36,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot37:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*37,0,sin(-pitch)*37,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot38:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*38,0,sin(-pitch)*38,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot39:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*39,0,sin(-pitch)*39,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot40:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*40,0,sin(-pitch)*40,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot41:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*41,0,sin(-pitch)*41,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot42:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*42,0,sin(-pitch)*42,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot43:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*43,0,sin(-pitch)*43,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot44:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*44,0,sin(-pitch)*44,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot45:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*45,0,sin(-pitch)*45,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot46:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*46,0,sin(-pitch)*46,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot47:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*47,0,sin(-pitch)*47,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot48:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*48,0,sin(-pitch)*48,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot49:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*49,0,sin(-pitch)*49,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot50:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*50,0,sin(-pitch)*50,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot51:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*51,0,sin(-pitch)*51,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot52:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*52,0,sin(-pitch)*52,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot53:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*53,0,sin(-pitch)*53,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot54:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*54,0,sin(-pitch)*54,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot55:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*55,0,sin(-pitch)*55,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot56:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*56,0,sin(-pitch)*56,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot57:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*57,0,sin(-pitch)*57,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot58:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*58,0,sin(-pitch)*58,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot59:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*59,0,sin(-pitch)*59,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Shoot60:
	PUFF A 0 A_SpawnItemEx ("ToolboxShrapnelMissile",0,0,0,cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail",-1,0,(sin(pitch)*1),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-2,0,(sin(pitch)*2),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail1",-3,0,(sin(pitch)*3),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-4,0,(sin(pitch)*4),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail2",-5,0,(sin(pitch)*5),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-6,0,(sin(pitch)*6),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	PUFF A 0 A_SpawnItemEx ("ShrapnelTrail3",-7,0,(sin(pitch)*7),cos(-pitch)*60,0,sin(-pitch)*60,0,SXF_TRANSFERPITCH)
	Goto Spawn3
  Spawn3:
	TNT1 A 1 A_JumpIfInventory ("ShockCanDie", 1, "Death")
	Loop
  Death:
	TNT1 A 4
	stop
	}
}

actor ToolboxShrapnelMissile : FastProjectile
{
  Damage 5
  DamageType "Shrapnel"
  Radius 3
  Height 6
  Speed 50 //Doesn't actually do anything here
  Scale 0.4
  Projectile
  MissileType "ShrapnelSparker"
  MissileHeight 8
  RenderStyle "Add"
  Alpha 0.5
  +BLOODSPLATTER
  Species "Player"
  +THRUSPECIES
  +BRIGHT
  Alpha 1.0
  Decal Bulletchip
  States
  {
  Spawn:
	SHAP A 1 Bright
	loop
  Death:
	SHAP A 1 A_GiveToTarget("ShockCanDie", 1)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	//SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	//SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)

	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15))*3,0,sin(-pitch+Random(-15,15))*3,45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+22.5)*3,0,sin(-pitch+Random(-15,15)+22.5)*3,22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+45)*3,0,sin(-pitch+Random(-15,15)+45)*3,0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+22.5)*3,0,sin(-pitch+Random(-15,15)+22.5)*3,-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15))*3,0,sin(-pitch+Random(-15,15))*3,-45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-22.5)*3,0,sin(-pitch+Random(-15,15)-22.5)*3,-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-45)*3,0,sin(-pitch+Random(-15,15)-45)*3,0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-22.5)*3,0,sin(-pitch+Random(-15,15)-22.5)*3,22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+22.5)*3),0,-(sin(-pitch+Random(-15,15)+22.5)*3),-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+45)*3),0,-(sin(-pitch+Random(-15,15)+45)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+22.5)*3),0,-(sin(-pitch+Random(-15,15)+22.5)*3),22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-22.5)*3),0,-(sin(-pitch+Random(-15,15)-22.5)*3),22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-45)*3),0,-(sin(-pitch+Random(-15,15)-45)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-22.5)*3),0,-(sin(-pitch+Random(-15,15)-22.5)*3),-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-90)*3),0,-(sin(-pitch+Random(-15,15)-90)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+90)*3),0,-(sin(-pitch+Random(-15,15)+90)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-180+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),90+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-90+Random(-15,15),SXF_NOCHECKPOSITION)

	TNT1 A 2 Light("SmallHellFireShellLight") A_Explode(5,40,0,0,40)
	TNT1 A 0 A_PlaySound("toolbox/nailgunimpact")
	stop
   XDeath:
	SHAP A 1 A_GiveToTarget("ShockCanDie", 1)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	//SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)
	//SHAP A 0 A_SpawnItemEx("ShrapnelScatter1",0,0,0,cos(-pitch+Random(-90,90))*3,0,sin(-pitch+Random(-90,90))*3,Random(-180,180),SXF_NOCHECKPOSITION)

	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15))*3,0,sin(-pitch+Random(-15,15))*3,45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+22.5)*3,0,sin(-pitch+Random(-15,15)+22.5)*3,22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+45)*3,0,sin(-pitch+Random(-15,15)+45)*3,0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)+22.5)*3,0,sin(-pitch+Random(-15,15)+22.5)*3,-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15))*3,0,sin(-pitch+Random(-15,15))*3,-45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-22.5)*3,0,sin(-pitch+Random(-15,15)-22.5)*3,-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-45)*3,0,sin(-pitch+Random(-15,15)-45)*3,0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,cos(-pitch+Random(-15,15)-22.5)*3,0,sin(-pitch+Random(-15,15)-22.5)*3,22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+22.5)*3),0,-(sin(-pitch+Random(-15,15)+22.5)*3),-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+45)*3),0,-(sin(-pitch+Random(-15,15)+45)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+22.5)*3),0,-(sin(-pitch+Random(-15,15)+22.5)*3),22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),45+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-22.5)*3),0,-(sin(-pitch+Random(-15,15)-22.5)*3),22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-45)*3),0,-(sin(-pitch+Random(-15,15)-45)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-22.5)*3),0,-(sin(-pitch+Random(-15,15)-22.5)*3),-22.5+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)-90)*3),0,-(sin(-pitch+Random(-15,15)-90)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15)+90)*3),0,-(sin(-pitch+Random(-15,15)+90)*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),0+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-180+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),90+Random(-15,15),SXF_NOCHECKPOSITION)
	SHAP A 0 A_SpawnItemEx("ShrapnelScatter3",0,0,0,-(cos(-pitch+Random(-15,15))*3),0,-(sin(-pitch+Random(-15,15))*3),-90+Random(-15,15),SXF_NOCHECKPOSITION)

	TNT1 A 2 Light("SmallHellFireShellLight") A_Explode(5,40,0,0,40)
	TNT1 A 0 A_PlaySound("toolbox/nailgunflesh")
	stop

	}
}


actor ShrapnelTrail
{
  +NOINTERACTION
  +BRIGHT
  +NOGRAVITY
  Radius 1
  Height 1
  Scale 0.4
  States
  {
  Spawn:
	SHAP A 1 A_JumpIfInTargetInventory("ShockCanDie", 1, "Death")
	Loop
  Death:
	TNT1 A 1
	Stop
  }
}

actor ShrapnelTrail1 : ShrapnelTrail
{
  Scale 0.3
}

actor ShrapnelTrail2 : ShrapnelTrail
{
  Scale 0.2
}

actor ShrapnelTrail3 : ShrapnelTrail
{
  Scale 0.1
}

actor ShrapnelScatter1 : FastProjectile
{
  +NOINTERACTION
  RenderStyle "Add"
  Alpha 0.5
  MissileType "ShrapnelScatterTrail"
  MissileHeight 8
  +BRIGHT
  +NOGRAVITY
  Radius 1
  Height 1
  Scale 0.2
  States
  {
  Spawn:
	SHAP A 0
	SHAP A 0
	SHAP A 0
	SHAP A 0
	SHAP A 0 A_Jump(128,"Spawn2")
	SHAP A 0 A_SetScale(0.3)
	Goto Spawn2
  Spawn2:
	SHAP A 0 //A_ScaleVelocity(1.5)
	SHAP A 1
	SHAP A 1 A_ChangeVelocity (velx+(random(-20,20)/10),vely+(random(-20,20)/10),velz+(random(-20,20)/10), 0)
	SHAP A 1
	SHAP A 1 A_ChangeVelocity (velx+(random(-20,20)/10),vely+(random(-20,20)/10),velz+(random(-20,20)/10), 0)
	SHAP A 1
	Stop
  }
}

actor ShrapnelScatter2
{
  MissileType "ShrapnelScatterTrail"
  MissileHeight 8
  RenderStyle "Add"
  Alpha 0.5
  +THRUACTORS
  +BRIGHT
  Radius 1
  Height 1
  Scale 0.2
  States
  {
  Spawn:
	SHAP A 0
	SHAP A 0
	SHAP A 0
	SHAP A 0
	SHAP A 0 A_Jump(85,"Spawn2")
	SHAP A 0 A_SetScale(0.4)
	SHAP A 0 A_Jump(128,"Spawn2")
	SHAP A 0 A_SetScale(0.3)
	Goto Spawn2
  Spawn2:
	SHAP A 5
	Stop
  }
}

actor ShrapnelScatter3
{
  +NOINTERACTION
  +BRIGHT
  Radius 1
  Height 1
  Scale 0.2
  States
  {
  Spawn:
	SHAP A 0
	SHAP A 0
	SHAP A 0
	SHAP A 0 A_Jump(50,"Death")
	SHAP A 0 A_Jump(128,"Spawn2")
	SHAP A 0 A_SetScale(0.1)
	Goto Spawn2
  Spawn2:
	SHAP A 0 A_ScaleVelocity(2)
	SHAP A 1
	SHAP A 1 A_ChangeVelocity (velx+(random(-20,20)/10),vely+(random(-20,20)/10),velz+(random(-20,20)/10), 0)
	SHAP A 1
	SHAP A 1 A_ChangeVelocity (velx+(random(-20,20)/10),vely+(random(-20,20)/10),velz+(random(-20,20)/10), 0)
	SHAP A 1
	Stop
  Death:
	SHAP A 0
	Stop
  }
}

actor ShrapnelScatterTrail
{
  +NOINTERACTION
  +BRIGHT
  Radius 1
  Height 1
  Scale 0.25
  RenderStyle "Add"
  Alpha 0.5
  States
  {
  Spawn:
	SHAP B 0
	SHAP B 0
	SHAP B 0
	SHAP B 1
	Stop
  }
}

actor ShrapnelSparker
{
  +NOINTERACTION
  +BRIGHT
  Radius 1
  Height 1
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0
	TNT1 A 0
	TNT1 A 0 A_Jump(215,"Death")
	TNT1 A 0 A_SpawnItemEx("ShrapnelSpark",Random(-3,-2),Random(-1,1),Random(-1,1),Random(-1,0),Random(-1,1),Random(0,1),0,SXF_NOCHECKPOSITION)
	Stop
  Death:
	TNT1 A 0
	Stop
  }
}

actor ShrapnelSpark
{
  +THRUACTORS
  +BRIGHT
  +CORPSE
  Radius 1
  Height 1
  Scale 0.1
  Gravity 0.25
  States
  {
  Spawn:
	SHAP C 0
	SHAP C 0
	SHAP C 0
	SHAP C 0 A_ScaleVelocity(0.5)
	SHAP C 2
	Goto Spawn2
  Spawn2:
	SHAP C 1 A_Jump(40,"Crash") 
	Loop
  Crash:
	SHAP C 0
	Stop
  }
}