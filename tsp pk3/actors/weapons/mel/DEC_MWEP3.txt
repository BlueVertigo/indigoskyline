//===========================================================================
//
// Blackwood Arms 240 "Zeke" Shotgun
//
// by Scroton! I wrote the base weapon but he pretty much did everything else.
// Thanks man!
// Sprites by Scuba Steve, Snarboo, and Marty Kirra
//
//===========================================================================

ACTOR MelZekeShotgun : Weapon
{
	Weapon.Kickback 400
	Weapon.AmmoType	"ShotgunMag"
	Weapon.AmmoGive	0
	Weapon.AmmoUse	1
	Weapon.AmmoType2 "TSPShells"
	Weapon.AmmoGive2 0
	Weapon.AmmoUse2	0
	Weapon.BobStyle Alpha
	Weapon.BobSpeed 2.0
	Weapon.BobRangeY 0.3
	Weapon.BobRangeX 0.4
	Inventory.PickupMessage "[Blackwood Arms 240 Zeke] [Class: Shotgun, Slot 3]"
	Obituary "%o went head to head with %k's shotgun. It went as well as you'd expect."
	+WEAPON.CHEATNOTWEAPON
	+NOAUTOFIRE
	+Weapon.AMMO_OPTIONAL
	+NOEXTREMEDEATH
	+WEAPON.NoAlert
	+UNDROPPABLE
	Tag "Blackwood Arms 240 Zeke"
	States
	{
	Spawn:
	  STGP A -1
	  Stop
	Ready:
      TNT1 A 0 A_TakeInventory("ShotgunLoading", 9)
	  TNT1 A 0 A_TakeInventory("AltFirePressed", 1)
	  TNT1 A 0 A_JumpIfInventory("MeleePressed",1,"SPMelee")
	  TNT1 A 0 A_JumpIfInventory("DropShellsActor",1,"DropCurrentShellsCheck")
      STGG A 1 A_WeaponReady(WRF_ALLOWRELOAD)
      Loop
	Deselect:
      TNT1 A 0 A_PlaySoundEX("zekeshotgun/down", "SoundSlot5")
	  STGD ABCDE 1
	  TNT1 A 3 
	DeselectLoop:
      TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAA 0  A_Lower
	  TNT1 A 1 A_Lower
      Loop
	Select:
	  TNT1 A 0 A_TakeInventory("MeleeSelected", 1)
      TNT1 A 0 A_TakeInventory("WeaponSelectMemory", 999)
	  TNT1 A 0 A_GiveInventory("WeaponSelectMemory", 131)
	  TNT1 A 0 A_JumpIfInventory("ComboCooldown", 1, "QuickSelect")
      TNT1 A 3 A_PlaySoundEX("zekeshotgun/up", "SoundSlot5")
	  STGU ABCD 1
	  STGR DCBA 1
	  STGC D 1
	  STGG A 2
	SelectLoop:	  
	  TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAA 0  A_Raise
	  STGG A 1 A_Raise
      Loop
	QuickSelect:
      TNT1 A 0 A_TakeInventory("ComboCooldown", 99)
      TNT1 A 1 A_PlaySoundEX("zekeshotgun/up", "SoundSlot5")
	  STGU IHGFE 1
	  Goto SelectLoop
	Pickup1:
	  TNT1 A 0 A_GiveInventory("BuckshotShell", 1)
	  Stop
	Fire:
      TNT1 A 0 A_TakeInventory("AltFirePressed", 1)
	  STGG A 0 A_JumpIfInventory("ShotgunLoading", 1, "MidReloadFire")
	  STGG A 0 A_JumpIfNoAmmo("Empty")
      STGG A 0 A_JumpIfInventory("ShotgunNeedsPump", 1, "FastPump")
      STGG A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "BuckshotShot")
      STGG A 0 A_JumpIfInventory("HellFireShellSelected", 1, "HellFireShot")
	  STGG A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ElectricShot")
	  STGG A 0 A_JumpIfInventory("PoisonShellSelected", 1, "PoisonShot")
	  Goto Ready
	Hold:
      STGG A 0 A_JumpIfInventory("ShotgunLoading", 1, "MidReloadFire")
	  STGG A 0 A_JumpIfNoAmmo("Empty")
      STGG A 0 A_JumpIfInventory("ShotgunNeedsPump", 1, "Pump")
      STGG A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "BuckshotShot")
      STGG A 0 A_JumpIfInventory("HellFireShellSelected", 1, "HellFireShot")
	  STGG A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ElectricShot")
	  STGG A 0 A_JumpIfInventory("PoisonShellSelected", 1, "PoisonShot")
	  Goto Ready
	BuckshotShot:
	  STGG A 0 A_AlertMonsters
	  STGG A 0 A_PlaySound("zekeshotgun/fire",0)
	  STGF A 0 A_Light2
      STGF A 1 BRIGHT A_FireBullets(2.7,2.7,10,5,"919mBulletPuff",FBF_USEAMMO|FBF_NOFLASH)
	  STGF B 1 BRIGHT A_Light1
	  STGF A 0 A_SetPitch(pitch - 1.0)
	  STGG B 1 A_Light0
	  STGG CDEEDCB 1 
	  STGG A 0 A_GiveInventory("ShotgunNeedsPump", 1)
	  STGG A 0 A_Refire
	  STGG AAAAAAA 1 A_WeaponReady(WRF_NOBOB)
	  Goto Pump
	ElectricShot:
	  STGG A 0 A_AlertMonsters
	  STGG A 0 A_PlaySound("zekeshotgun/elfire",0)
	  STGF A 0 A_Light2
	  TNT1 AAAAAAAAA 0 A_FireCustomMissile("ShockPellet",(random(-500, 500)/100.00), 0, 0, 1, 0,(random(-500, 500)/100.00))
      STGF A 1 BRIGHT A_FireCustomMissile("ShockPellet",(random(-500, 500)/100.00), 1, 0, 1, 0,(random(-500, 500)/100.00))
	  STGF B 1 BRIGHT A_Light1
	  STGF A 0 A_SetPitch(pitch - 1.0)
	  STGG B 1 A_Light0
	  STGG CDEEEDCB 1 
	  STGG A 0 A_GiveInventory("ShotgunNeedsPump", 1)
	  STGG A 0 A_Refire
	  STGG AAAAAAA 1 A_WeaponReady(WRF_NOBOB)
	  Goto Pump
	HellFireShot:
	  STGG A 0 A_AlertMonsters
	  STGG A 0 A_PlaySound("zekeshotgun/hefire",0)
	  STGF A 0 A_Light2
	  STGG A 0 A_TakeInventory("ShotgunMag", 1)
	  STGG A 0 A_TakeInventory("MakeHellFireBurst",99)
	  STGF A 1 BRIGHT A_SpawnItemEx ("HellFirePellet",0,0,32,cos(-pitch)*40,0,sin(-pitch)*40,(random(-120, 120)/100.00),SXF_TRANSFERPITCH|SXF_NOCHECKPOSITION||SXF_SETMASTER)
	  STGG A 0 A_TakeInventory("MakeHellFireBurst",99)
	  STGF B 1 BRIGHT A_Light1
	  STGF A 0 A_SetPitch(pitch - 1.0)
	  STGG B 1 A_Light0
	  STGG CDEEEDCB 1 
	  STGG A 0 A_GiveInventory("ShotgunNeedsPump", 1)
	  STGG A 0 A_Refire
	  STGG AAAAAAA 1 A_WeaponReady(WRF_NOBOB)
	  Goto Pump
    PoisonShot:
	  STGG A 0 A_AlertMonsters
	  STGG A 0 A_PlaySound("zekeshotgun/pofire",0)
	  STGF A 0 A_Light2
	  TNT1 AAAAA 0 A_FireCustomMissile("PoisonPellet",(random(-120, 120)/100.00), 0, 0, 1, 0,(random(-120, 120)/100.00))
	  STGF A 1 BRIGHT A_FireCustomMissile("PoisonPellet",(random(-120, 120)/100.00), 1, 0, 1, 0,(random(-120, 120)/100.00))
	  STGF B 1 BRIGHT A_Light1
	  STGF A 0 A_SetPitch(pitch - 1.0)
	  STGG B 1 A_Light0
	  STGG CDEEEDCB 1 
	  STGG A 0 A_GiveInventory("ShotgunNeedsPump", 1)
	  STGG A 0 A_Refire
	  STGG AAAAAAA 1 A_WeaponReady(WRF_NOBOB)
	  Goto Pump
	MidReloadFire:
	  STGR DCBA 1
	  STGC D 1
	  STGG A 1
	  STGG A 0 A_TakeInventory("ShotgunLoading",9)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/pump","SoundSlot5")
	  STGG A 0 A_TakeInventory("ShotgunNeedsPump",1)
	  STGC ABBCCBBAAA 1
	  STGG A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "BuckshotShot")
      STGG A 0 A_JumpIfInventory("HellFireShellSelected", 1, "HellFireShot")
	  STGG A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ElectricShot")
	  STGG A 0 A_JumpIfInventory("PoisonShellSelected", 1, "PoisonShot")
	  Goto BuckshotShot
	AltFire:
	  TNT1 A 0 A_JumpIfInventory("AltFirePressed", 1, "AltFire2")
	  TNT1 A 0 A_GiveInventory("AltFirePressed", 1)
	  TNT1 A 0 ACS_NamedExecuteAlways("TSPZekeMessage",0,1) //"[Altfire Again To Cycle Through Ammo Types]"
	  STGG A 35 A_WeaponReady(WRF_NOBOB)
	  TNT1 A 0 A_TakeInventory("AltFirePressed", 1)
	  Goto Ready
	AltFire2:
	  TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "AltFireBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "AltFireElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "AltFireHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "AltFirePoison")
	  TNT1 A 0 A_JumpIfInventory("BuckshotShell", 1, "AltFireBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "AltFireElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "AltFireHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "AltFirePoison")
	  Goto Ready
	AltFireBuckshot:
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "AltFireElectricSelect")
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "AltFireHellFireSelect")
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "AltFirePoisonSelect")
	  Goto SwitchFail
	AltFireElectric:
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "AltFireHellFireSelect")
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "AltFirePoisonSelect")
	  TNT1 A 0 A_JumpIfInventory("BuckShotShell", 1, "AltFireBuckshotSelect")
	  Goto SwitchFail
	AltFireHellFire:
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "AltFirePoisonSelect")
	  TNT1 A 0 A_JumpIfInventory("BuckShotShell", 1, "AltFireBuckshotSelect")
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "AltFireElectricSelect")
	  Goto SwitchFail
	AltFirePoison:
	  TNT1 A 0 A_JumpIfInventory("BuckShotShell", 1, "AltFireBuckshotSelect")
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "AltFireElectricSelect")
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "AltFireHellFireSelect")
	  Goto SwitchFail
	SwitchFail:
	  STGG A 15 ACS_NamedExecuteAlways("TSPZekeMessage",0,2) //"[No Alternate Shell Ammo]"
	  TNT1 A 0 A_TakeInventory("AltFirePressed", 1)
	  Goto Ready 
	AltFireBuckshotSelect:
	  TNT1 A 0
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("BuckshotShellSelected", 1)
	  Goto AltFireSelectionFinal
	AltFireElectricSelect:
	  TNT1 A 0
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("ElectricShellSelected", 1)
	  Goto AltFireSelectionFinal
	AltFireHellFireSelect:
	  TNT1 A 0
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("HellFireShellSelected", 1)
	  Goto AltFireSelectionFinal
	AltFirePoisonSelect:
	  TNT1 A 0
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("PoisonShellSelected", 1)
	  Goto AltFireSelectionFinal
	AltFireSelectionFinal:  
	  TNT1 A 0 A_GunFlash
	  STGG A 25 A_WeaponReady(WRF_NOBOB|WRF_NOPRIMARY)
	  TNT1 A 0 A_TakeInventory("AltFirePressed", 1)
	  TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "SwitchAmmoBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "SwitchAmmoElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "SwitchAmmoHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "SwitchAmmoPoison")
	  Goto Ready
	SwitchAmmoBuckshot:
	  TNT1 A 0 A_JumpIfInventory("BuckshotLoaded", 1, "Ready")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag", 1, "SwitchAmmo")
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  Goto UnLoadFinish //Ready
	SwitchAmmoElectric:
	  TNT1 A 0 A_JumpIfInventory("ElectricLoaded", 1, "Ready")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag", 1, "SwitchAmmo")
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  Goto UnLoadFinish //Ready
	SwitchAmmoHellFire:
	  TNT1 A 0 A_JumpIfInventory("HellFireLoaded", 1, "Ready")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag", 1, "SwitchAmmo")
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  Goto UnLoadFinish //Ready
	SwitchAmmoPoison:
	  TNT1 A 0 A_JumpIfInventory("PoisonLoaded", 1, "Ready")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag", 1, "SwitchAmmo")
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  Goto UnLoadFinish //Ready
	SwitchAmmo:
	  STGG A 0 A_PlaySoundEX("zekeshotgun/unload1", "SoundSlot5")
	  STGC ABCKL 1
	  STGC L 1 Offset(0,45)
	  STGC L 1 Offset(0,58)
	  STGC L 1 Offset(0,71)
	  STGC L 4 Offset(0,85)
	  TNT1 A 0 A_JumpIfInventory("BuckshotLoaded", 1, "UnLoadBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricLoaded", 1, "UnLoadElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireLoaded", 1, "UnLoadHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonLoaded", 1, "UnLoadPoison")
	  Goto UnLoadBuckshot
	UnLoadBuckshot:
	  TNT1 A 0 A_JumpIfInventory("TSPShells", 0, "UnLoadFullBuckshot")
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_GiveInventory("TSPShells",1)
	  STGR L 0 A_GiveInventory("BuckShotShell",1)
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadBuckshot")
	  Goto UnLoadFinish
	UnLoadElectric:
	  TNT1 A 0 A_JumpIfInventory("TSPShells", 0, "UnLoadFullElectric")
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_GiveInventory("TSPShells",1)
	  STGR L 0 A_GiveInventory("ElectricShell",1)
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadElectric")
	  Goto UnLoadFinish
	UnLoadHellFire:
	  TNT1 A 0 A_JumpIfInventory("TSPShells", 0, "UnLoadFullHellFire")
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_GiveInventory("TSPShells",1)
	  STGR L 0 A_GiveInventory("HellFireShell",1)
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadHellFire")
	  Goto UnLoadFinish
	UnLoadPoison:
	  TNT1 A 0 A_JumpIfInventory("TSPShells", 0, "UnLoadFullPoison")
	  STGC L 1 Offset(0,85)
	  STGC L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_GiveInventory("TSPShells",1)
	  STGR L 0 A_GiveInventory("PoisonShell",1)
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadPoison")
	  Goto UnLoadFinish
	UnLoadFullBuckshot:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("BuckshotShellThrown",0,0,30,random(2,8),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadBuckshot")
	  Goto UnLoadFinish
	UnLoadFullElectric:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("ElectricShellThrown",0,0,30,random(2,8),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadElectric")
	  Goto UnLoadFinish
	UnLoadFullHellFire:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("HellFireShellThrown",0,0,30,random(2,8),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadHellFire")
	  Goto UnLoadFinish
	UnLoadFullPoison:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("PoisonShellThrown",0,0,30,random(2,8),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"UnLoadPoison")
	  Goto UnLoadFinish
	UnLoadFinish:
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  STGC L 1 Offset(0,85)
	  STGC L 1 Offset(0,71)
	  STGC L 1 Offset(0,58)
	  STGC L 1 Offset(0,45)
	  STGC L 1
	  STGG A 0 A_PlaySoundEX("zekeshotgun/unload2", "SoundSlot5")
	  STGC KCBA 1
	  TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "ReloadBuckshotStart")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ReloadElectricStart")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "ReloadHellFireStart")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "ReloadPoisonStart")
	  Goto Ready
	UnLoadFinishSlow: //Replace UnLoadFinish with this if you want reloading after unloading to take an additional keypress, will also make the gun swung down and then back up again though which looks stupid IMO
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  STGR CBA 1
	  STGC D 1
	  STGC D 0 A_TakeInventory("ShotgunNeedsPump",1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  Goto Ready
	DropCurrentShellsCheck:
	  TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1, "DropCurrentShells")
	  TNT1 A 0 A_JumpIfInventory("TSPShells",1, "DropCurrentShells2StartAnim")
	  Goto Ready
	DropCurrentShells:
	  STGG A 0 A_PlaySoundEX("zekeshotgun/unload1", "SoundSlot5")
	  TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  STGC ABCKL 1
	  STGC L 1 Offset(0,45)
	  STGC L 1 Offset(0,58)
	  STGC L 1 Offset(0,71)
	  STGC L 4 Offset(0,85)
	  TNT1 A 0 A_JumpIfInventory("BuckshotLoaded", 1, "DropBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricLoaded", 1, "DropElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireLoaded", 1, "DropHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonLoaded", 1, "DropPoison")
	  Goto DropBuckshot
	DropBuckshot:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("BuckshotShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"DropBuckshot")
	  STGR L 0 A_JumpIfInventory("BuckshotShell",1,"DropCurrentShells2")
	  Goto DropCurrentShellsFinish
	DropElectric:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("ElectricShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"DropElectric")
	  STGR L 0 A_JumpIfInventory("ElectricShell",1,"DropCurrentShells2")
	  Goto DropCurrentShellsFinish
	DropHellFire:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("HellFireShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"DropHellFire")
	  STGR L 0 A_JumpIfInventory("HellFireShell",1,"DropCurrentShells2")
	  Goto DropCurrentShellsFinish
	DropPoison:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ShotgunMag",1)
	  STGR L 0 A_SpawnItemEx("PoisonShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ShotgunMag",1,"DropPoison")
	  STGR L 0 A_JumpIfInventory("PoisonShell",1,"DropCurrentShells2")
	  Goto DropCurrentShellsFinish
	DropCurrentShells2StartAnim:
	  STGG A 0 A_PlaySoundEX("zekeshotgun/unload1", "SoundSlot5")
	  TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  STGC ABCKL 1
	  STGC L 1 Offset(0,45)
	  STGC L 1 Offset(0,58)
	  STGC L 1 Offset(0,71)
	  STGC L 4 Offset(0,85)
	  TNT1 A 0 A_JumpIfInventory("BuckshotLoaded", 1, "DropBuckshot2Check")
	  TNT1 A 0 A_JumpIfInventory("ElectricLoaded", 1, "DropElectric2Check")
	  TNT1 A 0 A_JumpIfInventory("HellFireLoaded", 1, "DropHellFire2Check")
	  TNT1 A 0 A_JumpIfInventory("PoisonLoaded", 1, "DropPoison2Check")
	  Goto DropCurrentShells2AmmoDecide
  	DropCurrentShells2AmmoDecide:
	  TNT1 A 0 A_JumpIfInventory("BuckshotShell", 1, "DropBuckshot2")
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "DropElectric2")
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "DropHellFire2")
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "DropPoison2")
	  Goto DropBuckshot2
	DropCurrentShells2:
	  TNT1 A 0 A_JumpIfInventory("BuckshotLoaded", 1, "DropBuckshot2")
	  TNT1 A 0 A_JumpIfInventory("ElectricLoaded", 1, "DropElectric2")
	  TNT1 A 0 A_JumpIfInventory("HellFireLoaded", 1, "DropHellFire2")
	  TNT1 A 0 A_JumpIfInventory("PoisonLoaded", 1, "DropPoison2")
	  Goto DropBuckshot2
	DropBuckshot2Check:
	  STGR L 0 A_JumpIfInventory("BuckshotShell",1,"DropBuckshot2")
	  Goto DropCurrentShells2AmmoDecide
	DropBuckshot2:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("BuckshotShell",1)
	  STGR L 0 A_TakeInventory("TSPShells",1)
	  STGR L 0 A_SpawnItemEx("BuckshotShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("BuckshotShell",1,"DropBuckshot2")
	  Goto DropCurrentShellsFinish
	DropElectric2Check:
	  STGR L 0 A_JumpIfInventory("ElectricShell",1,"DropElectric2")
	  Goto DropCurrentShells2AmmoDecide
	DropElectric2:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("ElectricShell",1)
	  STGR L 0 A_TakeInventory("TSPShells",1)
	  STGR L 0 A_SpawnItemEx("ElectricShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("ElectricShell",1,"DropElectric2")
	  Goto DropCurrentShellsFinish
	DropHellFire2Check:
	  STGR L 0 A_JumpIfInventory("HellFireShell",1,"DropHellFire2")
	  Goto DropCurrentShells2AmmoDecide
	DropHellFire2:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("HellFireShell",1)
	  STGR L 0 A_TakeInventory("TSPShells",1)
	  STGR L 0 A_SpawnItemEx("HellFireShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("HellFireShell",1,"DropHellFire2")
	  Goto DropCurrentShellsFinish
	DropPoison2Check:
	  STGR L 0 A_JumpIfInventory("PoisonShell",1,"DropPoison2")
	  Goto DropCurrentShells2AmmoDecide
	DropPoison2:
	  STGC L 1 Offset(0,85)
	  STGR L 0 A_TakeInventory("PoisonShell",1)
	  STGR L 0 A_TakeInventory("TSPShells",1)
	  STGR L 0 A_SpawnItemEx("PoisonShellDropped",0,0,30,random(8,12),0,0,random(-22.5,22.5))
	  STGR L 0 A_JumpIfInventory("PoisonShell",1,"DropPoison2")
	  Goto DropCurrentShellsFinish
	DropCurrentShellsFinish:
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  STGC L 1 Offset(0,85)
	  STGC L 1 Offset(0,71)
	  STGC L 1 Offset(0,58)
	  STGC L 1 Offset(0,45)
	  STGC L 1 Offset(0,32)
	  TNT1 A 0 A_TakeInventory("DropShellsActor", 1)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/unload2", "SoundSlot5")
	  STGC KCBA 1
	  Goto Ready
	Pump:
	  STGG A 0 A_JumpIfNoAmmo("Reload")
	  STGG A 0 A_Jump(125,"Pump2")
	  STGG A 0 A_TakeInventory("ShotgunNeedsPump",1)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/pump", "SoundSlot5")
	  STGC AABBCCKKLLKKCBBAA 1
	  STGG A 0 A_ReFire
	  Goto Ready
    Pump2:
	  STGG A 0 A_TakeInventory("ShotgunNeedsPump",1)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/pump", "SoundSlot5")
	  STGC DDEFGGHIJJIHGGFED 1
	  STGG D 0 A_ReFire
	  Goto Ready
	FastPump:
	  STGG A 0 A_TakeInventory("ShotgunNeedsPump",1)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/pump", "SoundSlot5")
	  STGC ABCKLKCBA 1
	  Goto Ready
    Empty:
	  STGG A 5 A_PlaySound("919m/dry",0)
	  Goto Reload
	Reload:
      STGG A 0 A_JumpIfInventory("ShotgunMag",8,"Ready")
	  STGG A 0 A_JumpIfInventory("TSPShells",1,"ReloadCheck")
	  STGG A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  Goto Ready
	ReloadCheck:
      TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "ReloadBuckshotCheck")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ReloadElectricCheck")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "ReloadHellFireCheck")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "ReloadPoisonCheck")
	  Goto ReloadBuckShotCheck
	ReloadBuckshotCheck:
      TNT1 A 0 A_JumpIfInventory("BuckshotShell", 1, "ReloadStart")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  Goto ReloadOutOfCurrentAmmo
	ReloadElectricCheck:
      TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "ReloadStart")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  Goto ReloadOutOfCurrentAmmo
	ReloadHellFireCheck:
      TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "ReloadStart")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  Goto ReloadOutOfCurrentAmmo
	ReloadPoisonCheck:
      TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "ReloadStart")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  Goto ReloadOutOfCurrentAmmo
	ReloadOutOfCurrentAmmo:
	  TNT1 A 0 A_JumpIfInventory("BuckshotShell", 1, "ReloadBuckshotStartOutOfCurrentAmmo")
	  TNT1 A 0 A_JumpIfInventory("ElectricShell", 1, "ReloadElectricStartOutOfCurrentAmmo")
	  TNT1 A 0 A_JumpIfInventory("HellFireShell", 1, "ReloadHellFireStartOutOfCurrentAmmo")
	  TNT1 A 0 A_JumpIfInventory("PoisonShell", 1, "ReloadPoisonStartOutOfCurrentAmmo")
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"Ready")
	  TNT1 A 0 A_JumpIfInventory("TSPShells", 1, "ReloadBuckshotStartOutOfCurrentAmmo")
	  Goto Ready
	ReloadBuckshotStartOutOfCurrentAmmo:
	  TNT1 A 0 ACS_NamedExecuteAlways("TSPZekeMessage",0,3)
	  Goto ReloadBuckshotStart
	ReloadElectricStartOutOfCurrentAmmo:
	  TNT1 A 0 ACS_NamedExecuteAlways("TSPZekeMessage",0,4)
	  Goto ReloadElectricStart
	ReloadHellFireStartOutOfCurrentAmmo:
	  TNT1 A 0 ACS_NamedExecuteAlways("TSPZekeMessage",0,5)
	  Goto ReloadHellFireStart
	ReloadPoisonStartOutOfCurrentAmmo:
	  TNT1 A 0 ACS_NamedExecuteAlways("TSPZekeMessage",0,6)
	  Goto ReloadPoisonStart
	ReloadStart:
	  TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "ReloadBuckshotStart")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "ReloadElectricStart")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "ReloadHellFireStart")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "ReloadPoisonStart")
	  Goto ReloadBuckshotStart
	ReloadBuckshotStart:
      STGC D 1
	  STGR ABCD 1
	  Goto EmptyReloadBuckshot
	ReloadBuckshot:
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)  
	  TNT1 A 0 A_GiveInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("BuckshotLoaded", 1)
	  STGR D 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("BuckshotShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR PQGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("BuckshotShell",1,"ReloadBuckshot")
	  Goto ReloadFinish
	ReloadElectricStart:
      STGC D 1
	  STGR ABCD 1
	  Goto EmptyReloadElectric
	ReloadElectric:
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)
	  TNT1 A 0 A_GiveInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("ElectricLoaded", 1)
	  STGR D 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("ElectricShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR EFGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("ElectricShell",1,"ReloadElectric")
	  Goto ReloadFinish
	ReloadHellFireStart:
      STGC D 1
	  STGR ABCD 1
	  Goto EmptyReloadHellFire
	ReloadHellFire:
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)  
	  TNT1 A 0 A_GiveInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("HellFireLoaded", 1)
	  STGR D 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("HellFireShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR NOGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("HellFireShell",1,"ReloadHellFire")
	  Goto ReloadFinish
	ReloadPoisonStart:
      STGC D 1
	  STGR ABCD 1
	  Goto EmptyReloadPoison
	ReloadPoison:
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)
	  TNT1 A 0 A_GiveInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("PoisonLoaded", 1)
	  STGR D 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("PoisonShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR LMGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("PoisonShell",1,"ReloadPoison")
	  Goto ReloadFinish
	EmptyReloadBuckshot:
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"ReloadBuckshot")
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)  
	  TNT1 A 0 A_GiveInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("BuckshotLoaded", 1)
	  STGR D 2
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("BuckshotShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR PQGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("BuckshotShell",1,"ReloadBuckshot")
	  Goto ReloadFinish
	EmptyReloadElectric:
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"ReloadElectric")
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)
	  TNT1 A 0 A_GiveInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("ElectricLoaded", 1)
	  STGR D 2
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("ElectricShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR EFGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("ElectricShell",1,"ReloadElectric")
	  Goto ReloadFinish
	EmptyReloadHellFire:
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"ReloadHellFire")
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)  
	  TNT1 A 0 A_GiveInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("HellFireLoaded", 1)
	  STGR D 2
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("HellFireShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR NOGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("HellFireShell",1,"ReloadHellFire")
	  Goto ReloadFinish
	EmptyReloadPoison:
	  TNT1 A 0 A_JumpIfInventory("ShotgunMag",1,"ReloadPoison")
	  TNT1 A 0 A_TakeInventory("BuckshotShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("ElectricShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("HellFireShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_TakeInventory("BuckshotLoaded", 1)
	  TNT1 A 0 A_TakeInventory("ElectricLoaded", 1)
	  TNT1 A 0 A_TakeInventory("HellFireLoaded", 1)
	  TNT1 A 0 A_TakeInventory("PoisonLoaded", 1)
	  TNT1 A 0 A_GiveInventory("ShotgunLoading", 1)
	  TNT1 A 0 A_GiveInventory("PoisonShellSelected", 1)
	  TNT1 A 0 A_GiveInventory("PoisonLoaded", 1)
	  STGR D 2
	  STGR D 0 A_PlaySound("zekeshotgun/load",0)
	  STGR D 0 A_TakeInventory("TSPShells",1)
	  STGR D 0 A_TakeInventory("PoisonShell",1)
	  STGR D 0 A_GiveInventory("ShotgunMag",1)
	  STGR LMGHHIJ 1
	  STGR K 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
      STGR K 0 A_JumpIfInventory("ShotgunMag",8,"ReloadFinish")
	  STGR K 0 A_JumpIfInventory("PoisonShell",1,"ReloadPoison")
	  Goto ReloadFinish
	ReloadFinish:
	  STGR DCBA 1
	  STGC D 1
	  STGG A 1
	  STGG A 0 A_TakeInventory("ShotgunLoading",9)
	  STGG A 0 A_PlaySoundEX("zekeshotgun/pump","SoundSlot5")
	  STGG A 0 A_TakeInventory("ShotgunNeedsPump",1)
	  STGC ABBCCBBAA 1
	  STGC A 1 A_ReFire
	  Goto Ready
	AltFlash:
	  TNT1 A 0
	  TNT1 A 0
	  TNT1 A 0 A_JumpIfInventory("BuckshotShellSelected", 1, "AltFlashBuckshot")
	  TNT1 A 0 A_JumpIfInventory("ElectricShellSelected", 1, "AltFlashElectric")
	  TNT1 A 0 A_JumpIfInventory("HellFireShellSelected", 1, "AltFlashHellFire")
	  TNT1 A 0 A_JumpIfInventory("PoisonShellSelected", 1, "AltFlashPoison")
	  Stop
	AltFlashBuckshot:
	  TNT1 A 25 ACS_NamedExecuteAlways("TSPZekeMessage",0,7) //"[Buckshot Shells Selected]"
	  Stop
	AltFlashElectric:
	  TNT1 A 25 ACS_NamedExecuteAlways("TSPZekeMessage",0,8) //"[Shock Shells Selected]"
	  Stop
	AltFlashHellFire:
	  TNT1 A 25 ACS_NamedExecuteAlways("TSPZekeMessage",0,9) //"[HellFire Shells Selected]"
	  Stop
	AltFlashPoison:
	  TNT1 A 25 ACS_NamedExecuteAlways("TSPZekeMessage",0,10) //"[Poison Shells Selected]"
	  Stop
	SPMelee:
	  STGG A 1
	  STGM ABBCC 1
	  Goto SPMeleeStart
	SPMeleeHeld: //This is for whenever melee button is held down!
	  STGM B 6
	  STGM CC 1
	SPMeleeStart:
	  TNT1 A 0 A_PlaySound("strongmelee/miss", 5)
	  TNT1 A 0 A_PlaySound("*melee", 6)
	  STGM DEF 1
	  ML1F D 0 A_JumpIfInventory("PowerStrength",1,"SPMeleeBerserk")
	  STGM G 1 A_CustomPunch(8,0,0,"StrongMeleePuff",90)
	  Goto SPMeleeA
	SPMeleeBerserk:
	  STGM G 1 A_CustomPunch(16,0,0,"StrongMeleePuff",90)
	  Goto SPMeleeA
	SPMeleeA: 
	  STGM FEDCCB 1
	  TNT1 A 0 A_JumpIfInventory("MeleePressed",1,"SPMeleeHeld")
	  STGM A 1
	  STGG A 2
	  Goto Ready
   }
}

ACTOR ShotgunMag : Ammo
{
	+IGNORESKILL
	Inventory.MaxAmount 8
}

ACTOR ShotgunPump : Boolean {}
ACTOR ShotgunLoading : Boolean {}
ACTOR ShotgunNeedsPump : Boolean {}
ACTOR AltFirePressed : Boolean {}
Actor DropShellsActor : Boolean {}
ACTOR MakeHellFireBurst : Boolean {}

ACTOR BuckshotShellSelected : Boolean {}
ACTOR ElectricShellSelected : Boolean {}
ACTOR HellFireShellSelected : Boolean {}
ACTOR PoisonShellSelected : Boolean {}

ACTOR BuckshotLoaded : Boolean {}
ACTOR ElectricLoaded : Boolean {}
ACTOR HellFireLoaded : Boolean {}
ACTOR PoisonLoaded : Boolean {}

ACTOR ShockCanDie : ShotgunPump {}
ACTOR ShockArcDie : ShotgunPump {}

actor ShockPellet : FastProjectile
{
  Damage 4
  Radius 1
  Height 1
  Speed 320
  Projectile
  Scale 0.1
  Renderstyle "Normal"
  +BLOODSPLATTER
  +NOTIMEFREEZE
  +NODAMAGETHRUST
  +RANDOMIZE
  Alpha 1.0
  Decal ShockScorchPirate
  States
  {
  Spawn:
	TNT1 A 1
	loop
  Death:
	TNT1 A 0
	PLSE B 1 Bright
	PLSE C 1 Bright
	PLSE D 1 Bright
	PLSE E 1 Bright
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_PlaySound("Weapons/ShockShell",0)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("ShockScatter",0,0,0,random(-1,1),random(-1,1),random(-1,1),random(-180, 180),SXF_NOCHECKPOSITION)
	TNT1 A 2
	stop
    }
}


actor ShockScatter
{
  Damage (0)
  Radius 1
  Height 1
  Speed 0
  Scale 0.4
  Renderstyle  "Normal"
  Alpha 1.0
  Decal Bulletchip
  +MISSILE
  -BLOODSPLATTER
  +BLOODLESSIMPACT
  +NOTIMEFREEZE
  -RANDOMIZE
  +NODAMAGETHRUST
  +ISMONSTER
  +THRUACTORS
  +NOBLOCKMAP
  +NOGRAVITY
  +DROPOFF
  +NOTELEPORT 
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("ShockScatterArcEnd",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	
	TNT1 A 0 A_GiveInventory("ShockCanDie",1)
	
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)

	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1), random(-1,1), 0)
	TNT1 A 0 A_ScaleVelocity(0.9)
	TNT1 A 1 A_SpawnItemEx("ShockScatterArc",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
	Stop
  Death:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("ShockCanDie",1,"Die")
	TNT1 A 1
	Stop
  Die:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("ShockArcDie",1)
	TNT1 A 0 A_PlaySound("Weapons/ShockArc",0)
	PLSE BCDE 1 Bright Light("ShockShellArcLight")
	TNT1 A 1
	Stop
    }
}

actor ShockScatterArc
{
  Damage (1)
  Radius 1
  Height 1
  Speed 0
  Scale 0.7
  Decal Bulletchip
  Projectile
  Alpha 0.75
  Renderstyle "Add"
  -BLOODSPLATTER
  +BLOODLESSIMPACT
  +NOTIMEFREEZE
  +NOCLIP
  +NOBLOCKMAP
  +NOGRAVITY
  +FORCEPAIN
  -RANDOMIZE
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 A 0
	TNT1 A 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 A 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 AAA 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 AAAAAAAAAA 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 AAAAAAAAAA 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 AAAAAAAAAA 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	TNT1 AAAAAAAAAA 1 A_JumpIfInTargetInventory("ShockArcDie",1,"Die")
	Stop
  Die:
	SARC A 0
	SARC A 0 
	//SARC A 0 A_Jump("Die2",127)
	SARC A 0 A_ChangeFlag("NOCLIP", 0)
	SARC A 0 A_ChangeFlag("RIPPER", 1)
	SARC A 2 Bright Light("ShockShellArcLight")
	Stop
  Die2:
	SARC A 0
	SARC A 0 
	SARC A 1 Bright
	SARC A 0 A_ChangeFlag("NOCLIP", 0)
	SARC A 0 A_ChangeFlag("RIPPER", 1)
	SARC A 1 Bright
	Stop
  Death:
	PUFF A 0
	PUFF A 8 Bright
	Stop
    }
}

actor ShockScatterArcEnd : ShockScatterArc
{
  Scale 0.4
  Renderstyle  "Normal"
  Alpha 1.0
  Decal Bulletchip
  States
  {
  Die:
	SARC A 0
	SARC A 0 
	SARC A 0 A_ChangeFlag("NOCLIP", 0)
	SARC A 0 A_ChangeFlag("RIPPER", 1)
	PLSE BCDE 1 Bright Light("ShockShellArcLight")
	Stop
    }
}

actor PoisonPellet
{
  Damage 2
  Radius 4
  Height 4
  Speed 60
  Projectile
  Scale 0.3
  Renderstyle "Normal"
  BounceType "Doom"
  Mass 150
  Gravity 0.3
  BounceFactor 0.3
  WallBounceFactor 0.3
  -NOGRAVITY
  +NOTIMEFREEZE
  +NODAMAGETHRUST
  +ALLOWBOUNCEONACTORS
  +BOUNCEONACTORS
  +USEBOUNCESTATE
  BounceSound "none" //gotta add one
  Alpha 1.0
  Decal None
  States
  {
  Spawn:
	SPSN A 1
	loop
  Bounce:
	TNT1 A 0 A_ChangeVelocity(random(-2,5),random(-4,4),0,CVF_RELATIVE)
	SPSN B 0 A_ChangeFlag("CORPSE",1)
	SPSN B 0 A_PlaySound("Weapons/PoisonShell",0)
	SPSN B 4 Bright Light("PoisonShellLight")
	Goto BounceDone
  Bounce.Actor.Creature: 
    TNT1 A 0 A_ChangeVelocity(random(-2,5),random(-4,4),0,CVF_RELATIVE)
	SPSN B 0 A_ChangeFlag("CORPSE",1)
	SPSN B 0 A_ScaleVelocity(0.3)
	SPSN B 0 A_PlaySound("Weapons/PoisonShell",0)
	SPSN B 4 Bright Light("PoisonShellLight")
	Goto BounceDone
  Bounce.Actor: 
	TNT1 A 0 A_ChangeVelocity(random(-2,5),random(-4,4),0,CVF_RELATIVE)
	SPSN B 0 A_ChangeFlag("CORPSE",1)
	SPSN B 0 A_ScaleVelocity(0.3)
	SPSN B 0 A_PlaySound("Weapons/PoisonShell",0)
	SPSN B 4 Bright Light("PoisonShellLight")
	Goto BounceDone
  BounceDone:
	SPSN C 0 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 1 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 0 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 1 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 0 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 1 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 0 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN C 1 Bright A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)	
	SPSN B 0 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 1 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 0 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 1 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 0 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 1 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 0 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	SPSN B 1 Bright Light("PoisonShellLight") A_SpawnItemEx("GasTrail",random(-3,3),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),0,SXF_NOCHECKPOSITION)
	Loop
  Crash:
    SPSN B 0 A_ChangeFlag("MOVEWITHSECTOR",1)
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright A_SpawnItemEx("GasCloud",random(-10,10),random(-10,10),random(0,24),random(-1,1),random(-1,1),0,random(-180, 180),SXF_NOCHECKPOSITION)
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright A_SpawnItemEx("GasCloud",random(-10,10),random(-10,10),random(0,24),random(-1,1),random(-1,1),0,random(-180, 180),SXF_NOCHECKPOSITION)
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright A_SpawnItemEx("GasCloud",random(-10,10),random(-10,10),random(0,24),random(-1,1),random(-1,1),0,random(-180, 180),SXF_NOCHECKPOSITION)
	Goto CrashDone
  CrashDone:
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	SPSN B 4 Bright Light("PoisonShellLight")
	SPSN C 4 Bright
	Goto CrashDone2
  CrashDone2:
	SPSN D 0 A_ChangeFlag("MOVEWITHSECTOR",1)
	SPSN D 0 A_ChangeFlag("NOINTERACTION",1)
	Goto CrashDone3
  CrashDone3:
	SPSN D 4
	Loop
  Death:
	SPSN A -1
	stop
    }
}

DamageType GasShellDamage
{
   Factor 1.0 //52
}

DamageType GasTrailDamage
{
   Factor 0
   ReplaceFactor
}

ACTOR Cloud2 : ShotgunPump {}
ACTOR Cloud3 : ShotgunPump {}
ACTOR Cloud4 : ShotgunPump {}
ACTOR Cloud5 : ShotgunPump {}
ACTOR Cloud6 : ShotgunPump {}
ACTOR Cloud7 : ShotgunPump {}

ACTOR Poisonbagcheckitem : Inventory
{
	Inventory.MaxAmount 20
	+UNDROPPABLE
}

ACTOR GasCloud : PoisonCloud
{
  +BRIGHT
  -BLOCKEDBYSOLIDACTORS
  RenderStyle "Add"
  Alpha 0.1
  Scale 0.1
  DamageType "GasShellDamage"
  States
  {
  Spawn:
    TNT1 A 0 
	TNT1 A 0 
	TNT1 A 0 A_ScaleVelocity(0.3)
	TNT1 A 1 A_Jump(170,"SpawnA","SpawnB")
	SPBG DDD 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.2)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG EEE 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.3)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.4)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.5)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG III 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.6)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.7)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.8)
	SPBG EEE 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.9)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(1.0)
    SPBG HHHIIIHHHFFF 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	SPBG HHHFFFEEEFFF 2 A_PoisonBagDamage
	Goto Spawn4
  SpawnA:
    SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.2)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.3)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG III 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.4)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.5)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.6)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG EEE 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.7)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.8)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.9)
	SPBG III 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(1.0)
	SPBG HHHFFFEEEFFF 2 A_PoisonBagDamage
	SPBG HHHIIIHHHFFF 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	Goto Spawn6
  SpawnB:
    SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.2)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG III 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.3)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.4)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.5)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG EEE 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.6)
	TNT1 A 0 A_FadeIn(0.1)
	SPBG FFF 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.7)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.8)
	SPBG III 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(0.9)
	SPBG HHH 2 A_PoisonBagDamage
	TNT1 A 0 A_SetScale(1.0)
	SPBG FFFEEEFFFHHH 2 A_PoisonBagDamage
	SPBG IIIHHHFFFEEE 2 A_PoisonBagDamage
	SPBG FFFHHHIIIHHH 2 A_PoisonBagDamage
	Goto Spawn7
  Spawn2:
    TNT1 A 0 A_TakeInventory("Cloud7",1)
	TNT1 A 0 A_GiveInventory("Cloud2",1)
	SPBG EEE 2 A_PoisonBagDamage
	SPBG E 0 A_Jump(90,"Spawn3")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn3
  Spawn3:
	TNT1 A 0 A_TakeInventory("Cloud2",1)
	TNT1 A 0 A_GiveInventory("Cloud3",1)
	SPBG FFF 2 A_PoisonBagDamage
	SPBG F 0 A_Jump(90,"Spawn4")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn4
  Spawn4:
	TNT1 A 0 A_TakeInventory("Cloud3",1)
	TNT1 A 0 A_GiveInventory("Cloud4",1)
	SPBG HHH 2 A_PoisonBagDamage
	SPBG H 0 A_Jump(90,"Spawn5")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn5
  Spawn5:
	TNT1 A 0 A_TakeInventory("Cloud4",1)
	TNT1 A 0 A_GiveInventory("Cloud5",1)
	SPBG III 2 A_PoisonBagDamage
	SPBG I 0 A_Jump(90,"Spawn6")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn6
  Spawn6:
	TNT1 A 0 A_TakeInventory("Cloud5",1)
	TNT1 A 0 A_GiveInventory("Cloud6",1)
	SPBG HHH 2 A_PoisonBagDamage
	SPBG H 0 A_Jump(90,"Spawn7")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn7
  Spawn7:
	TNT1 A 0 A_TakeInventory("Cloud6",1)
	TNT1 A 0 A_GiveInventory("Cloud7",1)
	SPBG FFF 2 A_PoisonBagDamage
	SPBG F 0 A_Jump(90,"Spawn2")
	TNT1 A 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn2
  Death:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("Cloud2",1,"Death3")
	TNT1 A 0 A_JumpIfInventory("Cloud3",1,"Death4")
	TNT1 A 0 A_JumpIfInventory("Cloud4",1,"Death5")
	TNT1 A 0 A_JumpIfInventory("Cloud7",1,"Death6")
	TNT1 A 0 A_JumpIfInventory("Cloud6",1,"Death7")
	TNT1 A 0 A_JumpIfInventory("Cloud7",1,"Death2")
	Goto Death2
  Death2:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG E 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG E 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG E 2 A_PoisonBagDamage
	Goto Death3
  Death3:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	Goto Death4
  Death4:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	Goto Death5
  Death5:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG I 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG I 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG I 2 A_PoisonBagDamage
	Goto Death6
  Death6:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG H 2 A_PoisonBagDamage
	Goto Death7
  Death7:
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	TNT1 A 0 A_FadeOut(0.01)
	SPBG F 2 A_PoisonBagDamage
	Goto Death2
  }
}

ACTOR GasTrail : PoisonCloud
{
  Radius 8
  Height 12
  Mass 1
  Scale 0.28
  RenderStyle "Add"
  Alpha 0.2
  Gravity 0.005
  DamageType "GasTrailDamage"
  -BLOCKEDBYSOLIDACTORS
  -VISIBILITYPULSE
  -NOGRAVITY
  +CORPSE
  +BRIGHT
  States
  {
  Spawn:
    TNT1 A 0 
	TNT1 A 0 
	TNT1 A 0 A_ScaleVelocity(0.03)
	TNT1 A 0 A_Jump(256,"SpawnA","SpawnB","SpawnC")
	Goto SpawnA
  SpawnA:
	SPBG HHH 2 A_PoisonBagDamage
	Goto SpawnB
  SpawnB:
	SPBG III 2 A_PoisonBagDamage
	Goto SpawnC
  SpawnC:
    SPBG DDD 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	SPBG A 0 A_ChangeFlag("NOGRAVITY", 0)
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	SPBG EEEFFFHHHIII 2 A_PoisonBagDamage
	Goto Spawn2
  Spawn2:
    SPBG DDD 2 A_PoisonBagDamage
	SPBG D 0 A_Jump(90,"Spawn3")
	SPBG D 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG D 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn3
  Spawn3:
	SPBG EEE 2 A_PoisonBagDamage
	SPBG E 0 A_Jump(90,"Spawn4")
	SPBG E 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG E 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn4
  Spawn4:
	SPBG FFF 2 A_PoisonBagDamage
	SPBG F 0 A_Jump(90,"Spawn5")
	SPBG F 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG F 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn5
  Spawn5:
	SPBG GGG 2 A_PoisonBagDamage
	SPBG G 0 A_Jump(90,"Spawn6")
	SPBG G 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG G 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn6
  Spawn6:
	SPBG HHH 2 A_PoisonBagDamage
	SPBG H 0 A_Jump(90,"Spawn7")
	SPBG H 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG H 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn7
  Spawn7:
	SPBG III 2 A_PoisonBagDamage
	SPBG I 0 A_Jump(90,"Spawn2")
	SPBG I 0 A_GiveInventory("Poisonbagcheckitem",1)
	SPBG I 0 A_JumpIfInventory("Poisonbagcheckitem",20,"Death")
	Goto Spawn2
  Death:
	SPBG EEEFFFGGGHHHII 2 A_FadeOut(0.01)
    SPBG EEEFFFGGGHHHII 2 A_FadeOut(0.01)
	SPBG EEEFFFGGGHHHII 2 A_FadeOut(0.01)
	SPBG EEEFFFGGGHHHII 2 A_FadeOut(0.01)
	SPBG IIIHHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
	SPBG IIIHHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
	SPBG IIIHHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
    Stop
  Crash:
	TNT1 A 0 
	TNT1 A 0 A_ChangeVelocity (random(-1,1), random(-1,1),0,CVF_RELATIVE)
	TNT1 A 0 A_ScaleVelocity(0.6)
	SPBG EEEFFFGGGHHHIII 2 A_FadeOut(0.01)
	SPBG HHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
	SPBG EEEFFFGGGHHHIII 2 A_FadeOut(0.01)
	SPBG HHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
	SPBG EEEFFFGGGHHHIII 2 A_FadeOut(0.01)
	SPBG HHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
	SPBG EEEFFFGGGHHHIII 2 A_FadeOut(0.01)
	SPBG HHHGGGFFFEEEDDD 2 A_FadeOut(0.01)
    Stop
  }
}

ACTOR OnlyDieOnce : ShotgunPump {}

ACTOR SmokeTrail : GasTrail
{
  Radius 8
  Height 12
  Mass 1
  Scale 0.1
  RenderStyle "Add"
  Alpha 0.6
  Gravity 0.005
  DamageType "GasTrailDamage"
  -BLOCKEDBYSOLIDACTORS
  -VISIBILITYPULSE
  -NOGRAVITY
  +CORPSE
  +BRIGHT
  States
  {
  Spawn:
    HLFC ABCB 2 A_FadeOut(0.05)
    Loop
  Crash:
	Stop
  }
}

ACTOR SmokeTrail2
{
  +NOBLOCKMAP
  -NOGRAVITY
  +SHADOW
  +NOTELEPORT
  +CANNOTPUSH
  +NODAMAGETHRUST
  Mass 1
  Gravity 0.01
  RenderStyle "Add"
  Scale 0.05
  Alpha 0.9
  States
  {
  Spawn:
    SMK2 ABCEFGHIJKLMNOPQR 2  Bright A_FadeOut(0.1) //0.03
    Loop
  }
}

ACTOR WussySmokeTrail : SmokeTrail
{
  Scale 0.04
}

ACTOR SmokeTrail3
{
  +NOBLOCKMAP
  -NOGRAVITY
  +SHADOW
  +NOTELEPORT
  +CANNOTPUSH
  +NODAMAGETHRUST
  +RANDOMIZE
  Mass 1
  Gravity 0.01
  RenderStyle "Add"
  Scale 0.3
  Alpha 0.1
  States
  {
  Spawn:
	HFTR A 1 A_FadeOut(0.05)
	HFTR A 0 A_SetScale(0.35)
	HFTR A 1 A_FadeOut(0.05)
	HFTR A 0 A_SetScale(0.4)
	HFTR B 1 A_FadeOut(0.05)
	HFTR B 0 A_SetScale(0.45)
	HFTR B 1 A_FadeOut(0.05)
	HFTR B 0 A_SetScale(0.5)
	HFTR A 1 A_FadeOut(0.05)
	HFTR A 0 A_SetScale(0.55)
	HFTR A 1 A_FadeOut(0.05)
	HFTR A 0 A_SetScale(0.6)
	HFTR B 1 A_FadeOut(0.05)
	HFTR B 0 A_SetScale(0.65)
	HFTR B 1 A_FadeOut(0.05)
	HFTR B 0 A_SetScale(0.7)
	Goto Spawn2
  Spawn2:
    HFTR AB 2 A_FadeOut(0.05)
    Loop
  }
}

actor HellFirePellet : FastProjectile
{
  -NOGRAVITY
  +NODAMAGETHRUST
  +BRIGHT
  Damage 30
  Radius 4
  Height 4
  Speed 40
  Projectile
  Scale 1.0
  Renderstyle "Normal"
  Mass 150
  Gravity 0.3
  MissileType "SmokeTrail3"
  MissileHeight 8
  Alpha 1.0
  Decal "DoomImpScorch"
  DropItem"WussyHellFireBurstPellet" 255
  DropItem"WussyHellFireBurstPellet" 255
  DropItem"WussyHellFireBurstPellet" 255
  DropItem"WussyHellFireBurstPellet" 255
  DropItem"WussyHellFireBurstPellet" 127
  DropItem"WussyHellFireBurstPellet" 127
  DropItem"WussyHellFireBurstPellet" 127
  DropItem"WussyHellFireBurstPellet" 40
  DropItem"WussyHellFireBurstPellet" 40
  DropItem"WussyHellFireBurstPellet" 40
  DropItem"WussyHellFireBurstPellet" 40
  States
  {
  Spawn:
	FX12 A 0
	
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	Goto SpawnA
	
  SpawnA:
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")

	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")

	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 BBBBB 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 BBBBBBB 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 B 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	
	TNT1 A 0 A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 A 1 Light("HellFireShellLight") A_JumpIfInTargetInventory("MakeHellFireBurst",1,"RainingMen")

	Loop
	//Goto RainingMen
	
  Death:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("OnlyDieOnce",1,"Death2")
	TNT1 A 0 A_PlaySound("imp/shotx",0)
	TNT1 A 1 A_NoBlocking
	stop
  XDeath:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("OnlyDieOnce",1,"Death2")
	TNT1 A 0 A_PlaySound("imp/shotx",0)
	TNT1 A 1 A_NoBlocking
	stop
  Death2:
	TNT1 A 0 
	TNT1 A 0 A_TakeInventory("OnlyDieOnce",9)
	TNT1 A 1
	stop
  RainingMen:
	FX12 A 0
	FX12 A 0 A_TakeFromTarget("MakeHellFireBurst",1)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-33,-39),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-27,-33),random(-4,4),random(-4,4),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-21,-27),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-15,-21),random(-3,3),random(-3,3),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	FX12 AAAAA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	FX12 AAAAAAA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	
	FX12 A 0 A_SpawnItemEx("SmokeTrail",random(-6,6),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)

	TNT1 A 0 A_PlaySound("Weapons/HellShell",0)
	FX12 A 0 A_ClearTarget
	FX12 AAAAAAA 0 A_SpawnItemEx("HellFireBurstPellet",0,0,0,cos(-pitch)*15,0,sin(-pitch-Random(0,-6))*15,Random(-30,30),SXF_TRANSFERPITCH)
	FX12 AAAAAAA 0 A_SpawnItemEx("HellFireBurstPellet",0,0,0,cos(-pitch)*15,0,sin(-pitch-Random(0,8))*15,Random(-30,30),SXF_TRANSFERPITCH)
	FX12 A 0 A_GiveInventory("OnlyDieOnce",1)
	FX12 A 0 A_TakeFromTarget("MakeHellFireBurst",9)
	FX12 A 1 Light("HellFireShellLight") A_SpawnItemEx("HellFireBurstPellet",0,0,0,cos(-pitch)*15,0,sin(-pitch-Random(8,-4))*15,Random(-30,30),SXF_TRANSFERPITCH)
	FX12 A 0 A_TakeInventory("OnlyDieOnce",9)
	Stop
	}
}

actor HellFireBurstPellet
{
  Damage 4
  Radius 8
  Height 16
  Speed 40
  Projectile
  Scale 0.3
  Renderstyle "Normal"
  Mass 150
  Gravity 0.3
  BounceType "Doom"
  BounceFactor 0.2
  WallBounceFactor 0.2
  +BRIGHT
  +RIPPER
  -NOGRAVITY
  +NODAMAGETHRUST
  +USEBOUNCESTATE
  //BounceSound "none" add one?
  Alpha 1.0
  Decal "DoomImpScorch"
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	SMK2 A 1 Light("SmallHellFireShellLight") A_SpawnItemEx("SmokeTrail",random(-6,0),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-9,-15),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-3,-9),random(-2,2),random(-2,2),0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-3,3),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail2",random(-2,-11),random(-3,3),random(-3,3),random(-1,1),random(-1,1),random(-1,1),Random(-180,180),SXF_NOCHECKPOSITION)
	SMK2 B 1 Light("SmallHellFireShellLight") A_SpawnItemEx("SmokeTrail",random(-6,0),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	Loop
  Bounce:
	TNT1 A 0 A_ChangeVelocity(random(-2,5),random(-4,4),0,CVF_RELATIVE)
	SPSN B 0 A_ChangeFlag("CORPSE",1)
	SPSN B 0 A_ChangeFlag("RIPPER",0)
	Goto Spawn
  Death:
	Goto Crash
  Crash:
	TNT1 A 0
	TNT1 A 0 A_PlaySound("Weapons/HellShell2",0)
	TNT1 A 0 A_Jump(170,"Crash2","Crash3")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.25)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") 
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight") 
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") 
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.2)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") 
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.15)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.1)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.05)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.00001)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	Stop
  Crash2:
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.25)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.2)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.15)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.1)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.05)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.00001)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight")
	Stop
  Crash3:
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.25)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight") A_SetScale(0.2)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.15)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight") A_SetScale(0.1)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 B 1 Light("SmallHellFireShellLight") A_SetScale(0.05)
	TNT1 AA 0 A_SpawnItemEx("SmokeTrail",random(-2,2),random(-2,2),0,0,0,1,Random(-180,180),SXF_NOCHECKPOSITION)
    SMK2 A 1 Light("SmallHellFireShellLight") A_SetScale(0.00001)	
	Stop
  }
}

actor WussyHellFireBurstPellet : HellFireBurstPellet
{
  Damage (4)
  -RIPPER
  +THRUACTORS
  Mass 700
  Gravity 0.6
  Decal None
  States
  {
  Spawn:
	TNT1 A 0
	TNT1 AAA 0 A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	PUFF A 1 Light("TinyHellFireShellLight") A_SpawnItemEx("WussySmokeTrail",random(-6,0),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 AAA 0 A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	PUFF B 1 Light("TinyHellFireShellLight") A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 AAA 0 A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	PUFF A 1 Light("TinyHellFireShellLight") A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	TNT1 A 0 Light("TinyHellFireShellLight") A_ChangeFlag("THRUACTORS",0)
	TNT1 AAA 0 A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	PUFF B 1 Light("TinyHellFireShellLight") A_SpawnItemEx("WussySmokeTrail",random(-2,2),random(-2,2),random(-2,2),0,0,0,Random(-180,180),SXF_NOCHECKPOSITION)
	Loop
  Bounce:
	TNT1 A 0 A_ChangeVelocity(random(-2,5),random(-4,4),0,CVF_RELATIVE)
	SPSN B 0 A_ChangeFlag("CORPSE",1)
	SPSN B 0 A_ChangeFlag("RIPPER",0)
	Goto Spawn
  Death:
	Goto Crash
  Crash:
	TNT1 A 0 A_PlaySound("Weapons/HellShell7",0)
	TNT1 A 1
	Stop
  }
}